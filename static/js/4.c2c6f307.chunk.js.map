{"version":3,"sources":["components/Cart/CartItem.js","components/Cart/Cart.js","components/UI/Modal.js","components/UI/Modal.module.css","components/Cart/Cart.module.css","components/Cart/CartItem.module.css"],"names":["CartItem","props","dispatch","useDispatch","id","price","name","itemPrice","concat","toFixed","react_default","a","createElement","react","className","classes","remove","onClick","cartActions","removeAllItemFromCart","summary","src","img","alt","width","height","total","qty","actions","removeItemFromCart","addItemToCart","Checkout","React","lazy","Promise","all","__webpack_require__","e","then","bind","Cart","_useState","useState","_useState2","Object","slicedToArray","isProceed","setIsProceed","_useState3","_useState4","isSubmitting","setIsSubmitting","_useState5","_useState6","didSubmit","setDidSubmit","cartItems","useSelector","state","cart","items","totalPrice","totalQty","cartTotalPrice","hasItems","length","submitOrderHandler","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","wrap","_context","prev","next","fetch","method","body","JSON","stringify","user","orderedItems","orderTotalPrice","orderTotalQty","clearCart","stop","_x","apply","this","arguments","cartItem","map","item","Cart_CartItem","key","cartModalContent","fallback","LoadingSpinner","cart_items","onClose","button","onConfirm","checkout","isSubmittingModalContent","didSubmitModalContent","Modal","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_Modal_module_css__WEBPACK_IMPORTED_MODULE_2__","_Modal_module_css__WEBPACK_IMPORTED_MODULE_2___default","Backdrop","backdrop","ModalOverlay","modal","copntent","children","portalElement","document","getElementById","ReactDOM","createPortal","module","exports","slide-down","cart-item"],"mappings":"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","file":"static/js/4.c2c6f307.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\nimport classes from \"./CartItem.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { cartActions } from \"../../Store/cart-slice\";\n\nconst CartItem = (props) => {\n  const dispatch = useDispatch();\n\n  const { id, price, name } = props;\n\n  const cartItemAddHandler = () => {\n    dispatch(cartActions.addItemToCart({ id, price, name }));\n  };\n\n  const cartItemRemoveHandler = () => {\n    dispatch(cartActions.removeItemFromCart(id));\n  };\n\n  const removeCartItemHandler = () => {\n    dispatch(cartActions.removeAllItemFromCart(id));\n  };\n\n  const itemPrice = `$${price.toFixed(2)}`;\n\n  return (\n    <Fragment>\n      <button className={classes.remove} onClick={removeCartItemHandler}>\n        x\n      </button>\n      <li className={classes[\"cart-item\"]}>\n        <div>\n          <h2>{props.name}</h2>\n\n          <div className={classes.summary}>\n            <img src={props.img} alt=\"product\" width=\"70\" height=\"70\" />\n          </div>\n        </div>\n        <div className={classes.total}>\n          <span>\n            Price :<span className={classes.price}>{itemPrice}</span>\n          </span>\n          <span>\n            Qty :<span className={classes.qty}>x {props.qty}</span>\n          </span>\n        </div>\n        <div className={classes.actions}>\n          <button onClick={cartItemRemoveHandler}>âˆ’</button>\n          <button onClick={cartItemAddHandler}>+</button>\n        </div>\n      </li>\n    </Fragment>\n  );\n};\n\nexport default CartItem;\n","import React, { Fragment, Suspense, useState } from \"react\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./Cart.module.css\";\nimport CartItem from \"./CartItem\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { cartActions } from \"../../Store/cart-slice\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\n\nconst Checkout = React.lazy(() => import(\"./Checkout\"));\n\nconst Cart = (props) => {\n  const [isProceed, setIsProceed] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [didSubmit, setDidSubmit] = useState(false);\n\n  const cartItems = useSelector((state) => state.cart.items);\n  const totalPrice = useSelector((state) => state.cart.totalPrice);\n  const totalQty = useSelector((state) => state.cart.totalQty);\n\n  const dispatch = useDispatch();\n\n  const cartTotalPrice = `$${totalPrice.toFixed(2)}`;\n\n  const hasItems = cartItems.length > 0;\n\n  const ProceedHandler = () => {\n    setIsProceed(true);\n  };\n\n  const submitOrderHandler = async (userData) => {\n    setIsSubmitting(true);\n    await fetch(\n      \"https://sl-rc-store-default-rtdb.asia-southeast1.firebasedatabase.app/orders.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify({\n          user: userData,\n          orderedItems: cartItems,\n          orderTotalPrice: totalPrice,\n          orderTotalQty: totalQty,\n        }),\n      }\n    );\n    dispatch(cartActions.clearCart());\n    setIsSubmitting(false);\n    setDidSubmit(true);\n  };\n\n  const cartItem = (\n    <ul>\n      {cartItems.map((item) => (\n        <CartItem\n          key={item.id}\n          id={item.id}\n          name={item.name}\n          img={item.img}\n          price={item.price}\n          qty={item.qty}\n        />\n      ))}\n    </ul>\n  );\n\n  const cartModalContent = (\n    <Suspense\n      fallback={\n        <div className=\"centered\">\n          <LoadingSpinner />\n        </div>\n      }\n    >\n      <div className={classes.cart_items}>{!isProceed && cartItem}</div>\n      {!isProceed && (\n        <Fragment>\n          <div className={classes.total}>\n            <span>Total Amount:</span>\n            <span>{cartTotalPrice}</span>\n          </div>\n          <div className={classes.actions}>\n            <button onClick={props.onClose}>Close</button>\n            {hasItems && (\n              <button className={classes.button} onClick={ProceedHandler}>\n                Proceed to checkout\n              </button>\n            )}\n          </div>\n        </Fragment>\n      )}\n      {isProceed && (\n        <Checkout\n          onConfirm={submitOrderHandler}\n          className={classes.checkout}\n          onClose={props.onClose}\n        />\n      )}\n    </Suspense>\n  );\n\n  const isSubmittingModalContent = <p>Sending order data....</p>;\n\n  const didSubmitModalContent = (\n    <Fragment>\n      <p>\n        Successfully sent the order! <br /> Order will be ship soon\n        <br />\n        Thank you..!\n      </p>\n      <div className={classes.actions}>\n        <button className={classes[\"button--alt\"]} onClick={props.onClose}>\n          Close\n        </button>\n      </div>\n    </Fragment>\n  );\n\n  return (\n    <Modal onClose={props.onClose}>\n      {!isSubmitting && !didSubmit && cartModalContent}\n      {isSubmitting && isSubmittingModalContent}\n      {!isSubmitting && didSubmit && didSubmitModalContent}\n    </Modal>\n  );\n};\n\nexport default Cart;\n","import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport classes from \"./Modal.module.css\";\n\nconst Backdrop = (props) => {\n  return <div className={classes.backdrop} onClick={props.onClose}></div>;\n};\n\nconst ModalOverlay = (props) => {\n  return (\n    <div className={classes.modal}>\n      <div className={classes.copntent}>{props.children}</div>\n    </div>\n  );\n};\n\nconst portalElement = document.getElementById(\"overlays\");\n\nconst Modal = (props) => {\n  return (\n    <Fragment>\n      {ReactDOM.createPortal(<Backdrop onClose={props.onClose}/>, portalElement)}\n      {ReactDOM.createPortal(\n        <ModalOverlay>{props.children}</ModalOverlay>,\n        portalElement\n      )}\n    </Fragment>\n  );\n};\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3-ya5\",\"modal\":\"Modal_modal__1I_Zq\",\"slide-down\":\"Modal_slide-down__3vucw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart_items\":\"Cart_cart_items__2NVA9\",\"total\":\"Cart_total__36Tyb\",\"actions\":\"Cart_actions__2qrHl\",\"button\":\"Cart_button__2-SvG\",\"checkout\":\"Cart_checkout__Zyv1z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__1ezKv\",\"summary\":\"CartItem_summary__3tEGF\",\"price\":\"CartItem_price__2HPu_\",\"total\":\"CartItem_total__kg6kC\",\"qty\":\"CartItem_qty__12baS\",\"remove\":\"CartItem_remove__3LjY6\",\"actions\":\"CartItem_actions__1Z91H\"};"],"sourceRoot":""}