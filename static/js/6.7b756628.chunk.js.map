{"version":3,"sources":["components/Parts/AvailableParts.module.css","components/UI/Card.module.css","components/Parts/PartsItems/PartItems.module.css","components/UI/Input.module.css","components/Parts/PartsItems/PartItemsForm.module.css","components/UI/Card.js","components/UI/Input.js","components/Parts/PartsItems/PartItemsForm.js","components/Parts/PartsItems/PartItems.js","components/Parts/AvailableParts.js","components/Parts/Parts.js"],"names":["module","exports","parts","parts-appear","loading","haserror","sorting","card","rap","part","img","img_dev","description","price","border","input","form","Card","props","react_default","a","createElement","className","classes","children","Input","React","forwardRef","ref","htmlFor","id","label","Object","assign","PartItemsForm","_useState","useState","_useState2","slicedToArray","amountIsValid","setAmountIsValid","amountInputRef","useRef","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","length","onAddToCart","UI_Input","type","min","max","step","defaultValue","PartItems","dispatch","useDispatch","name","itemPrice","concat","toFixed","UI_Card","react_router_dom","to","activeClassName","navlink","src","alt","width","height","PartsItems_PartItemsForm","cartActions","addItemToCart","AvailableParts","ascending","history","useHistory","location","useLocation","queryParams","URLSearchParams","search","isSortingAscending","get","isSorting","changeSortingHandler","push","partList","sort","partA","partB","map","PartsItems_PartItems","key","react","onClick","Parts","_useHttp","useHttp","getAllParts","sendRequest","status","loadedParts","data","error","useEffect","LoadingSpinner","Parts_AvailableParts"],"mappings":"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","file":"static/js/6.7b756628.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"parts\":\"AvailableParts_parts__3lai0\",\"parts-appear\":\"AvailableParts_parts-appear__1ua-_\",\"loading\":\"AvailableParts_loading__naycz\",\"haserror\":\"AvailableParts_haserror__2wzYB\",\"sorting\":\"AvailableParts_sorting__3idxy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__28K3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rap\":\"PartItems_rap__WuJv1\",\"part\":\"PartItems_part__1nYbW\",\"img\":\"PartItems_img__1QqFq\",\"img_dev\":\"PartItems_img_dev__1kXrX\",\"description\":\"PartItems_description__3lTAQ\",\"price\":\"PartItems_price__13jkM\",\"border\":\"PartItems_border__2tquF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2rX2V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"PartItemsForm_form__1gAA8\"};","import React from \"react\";\nimport classes from \"./Card.module.css\";\n\nconst Card = (props) => {\n  return <div className={classes.card}>{props.children}</div>;\n};\n\nexport default Card;\n","import React from \"react\";\nimport classes from \"./Input.module.css\";\n\nconst Input = React.forwardRef((props, ref) => {\n  return (\n    <div className={classes.input}>\n      <label htmlFor={props.input.id}>{props.label}</label>\n      <input ref={ref} {...props.input} />\n    </div>\n  );\n});\n\nexport default Input;\n","import React, { useRef, useState } from \"react\";\nimport Input from \"../../UI/Input\";\nimport classes from \"./PartItemsForm.module.css\";\n\nconst PartItemsForm = (props) => {\n  const [amountIsValid, setAmountIsValid] = useState(true)\n  const amountInputRef = useRef();\n  \n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredAmount = amountInputRef.current.value;\n    const enteredAmountNumber = +enteredAmount;\n\n    if (\n      enteredAmount.trim().length === 0 ||\n      enteredAmountNumber < 1 ||\n      enteredAmountNumber > 5\n    ) {\n      setAmountIsValid(false)\n      return;\n    }\n    props.onAddToCart(enteredAmountNumber)\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitHandler}>\n      <Input\n        ref={amountInputRef}\n        input={{\n          id: \"amount\",\n          type: \"number\",\n          min: \"1\",\n          max: \"5\",\n          step: \"1\",\n          defaultValue: \"1\",\n        }}\n      />\n      <button>Add to Cart</button>\n      {!amountIsValid && <p>Please enter valid amount</p>}\n    </form>\n  );\n};\n\nexport default PartItemsForm;\n","import React, { useRef } from \"react\";\nimport Card from \"../../UI/Card\";\nimport classes from \"./PartItems.module.css\";\nimport PartItemsForm from \"./PartItemsForm\";\nimport { useDispatch } from \"react-redux\";\nimport { cartActions } from \"../../../Store/cart-slice\";\nimport { NavLink } from \"react-router-dom\";\n\nconst PartItems = (props) => {\n  const dispatch = useDispatch();\n  const a = useRef();\n\n  const { id, img, name, description, price } = props;\n\n  const itemPrice = `$${price.toFixed(2)}`;\n\n  const addToCartHandler = () => {\n    dispatch(\n      cartActions.addItemToCart({ id, img, name, description, price, a })\n    );\n  };\n\n  return (\n    <div className={classes.rap}>\n      <Card>\n        <NavLink\n          to={`/partdetails/${props.id}`}\n          activeClassName={classes.navlink}\n        >\n          <div className={classes.part}>\n            <div className={classes.img_dev}>\n              <img\n                src={img}\n                alt=\"product\"\n                width=\"100\"\n                height=\"100\"\n                className={classes.img}\n              />\n            </div>\n\n            <h3>{name}</h3>\n            <div className={classes.description}>{description}</div>\n            <div className={classes.price}>{itemPrice}</div>\n          </div>\n        </NavLink>\n\n        <div className={classes.border}>\n          {/* <input label='a' ref={a} /> */}\n          <PartItemsForm onAddToCart={addToCartHandler} />\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default PartItems;\n","import React, { Fragment } from \"react\";\nimport classes from \"./AvailableParts.module.css\";\nimport PartItems from \"./PartsItems/PartItems\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst sortParts = (parts, ascending) => {\n  return parts.sort((partA, partB) => {\n    if (ascending) {\n      return partA.price < partB.price ? 1 : -1;\n    } else {\n      return partA.price > partB.price ? 1 : -1;\n    }\n  });\n};\n\nconst AvailableParts = (props) => {\n  const history = useHistory();\n  const location = useLocation();\n\n  const queryParams = new URLSearchParams(location.search);\n\n  const isSortingAscending = queryParams.get(\"sort\") === \"high-low\";\n\n  const isSorting = queryParams.get(\"sort\");\n\n  const sortedParts = sortParts(props.parts, isSortingAscending);\n\n  const changeSortingHandler = () => {\n    history.push(\n      \"/parts?sort=\" + (isSortingAscending ? \"low-high\" : \"high-low\")\n    );\n  };\n\n  // useEffect(() => {\n  //   const fetchParts = async () => {\n  //     const response = await fetch(\n  //       \"https://sl-rc-store-default-rtdb.asia-southeast1.firebasedatabase.app/parts.json\"\n  //     );\n\n  //     if (!response.ok) {\n  //       throw new Error(\"Something went wrong!\");\n  //     }\n\n  //     const responseData = await response.json();\n\n  //     const loadedData = [];\n\n  //     for (const key in responseData) {\n  //       loadedData.push({\n  //         id: key,\n  //         name: responseData[key].name,\n  //         img: responseData[key].img,\n  //         description: responseData[key].description,\n  //         price: responseData[key].price,\n  //       });\n  //     }\n  //     setParts(loadedData);\n  //     setIsLoading(false);\n  //   };\n  //   fetchParts().catch((error) => {\n  //     setIsLoading(false);\n  //     setIsError(error.message);\n  //   });\n  // });\n\n  // if (isLoading) {\n  //   return (\n  //     <section>\n  //       <p className={classes.loading}>Loading....</p>\n  //     </section>\n  //   );\n  // }\n\n  // if (isError) {\n  //   return (\n  //     <section>\n  //       <p className={classes.haserror}>{isError}</p>\n  //     </section>\n  //   );\n  // }\n\n  const partList = sortedParts.map((parts) => (\n    <PartItems\n      key={parts.id}\n      id={parts.id}\n      name={parts.name}\n      description={parts.description}\n      img={parts.img}\n      price={parts.price}\n      // specifications={part.specifications}\n    />\n  ));\n\n  return (\n    <Fragment>\n      <div className={classes.sorting}>\n        <button onClick={changeSortingHandler}>\n          Show {isSortingAscending ? \"Low to High\" : \"High to Low\"}\n        </button>\n        {isSorting && (\n          <h4 onClick={changeSortingHandler}>\n            Sort by: {isSortingAscending ? \"High to Low\" : \"Low to High\"} List\n          </h4>\n        )}\n      </div>\n\n      <section className={classes.parts}>\n        <ul>{partList}</ul>\n      </section>\n    </Fragment>\n  );\n};\n\nexport default AvailableParts;\n","import React, { Fragment,useEffect } from \"react\";\nimport AvailableParts from \"./AvailableParts\";\nimport useHttp from \"../../hooks/use-http\";\nimport { getAllParts } from \"../../lib/api\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\n\nconst Parts = (props) => {\n  const {\n    sendRequest,\n    status,\n    data: loadedParts,\n    error,\n  } = useHttp(getAllParts, true);\n\n  useEffect(() => {\n    sendRequest();\n  }, [sendRequest]);\n\n  if (status === \"pending\") {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (error) {\n    return <p className=\"centered focused\">{error}</p>;\n  }\n\n  return (\n    <Fragment>\n      <AvailableParts parts={loadedParts} />\n    </Fragment>\n  );\n};\n\nexport default Parts;\n"],"sourceRoot":""}